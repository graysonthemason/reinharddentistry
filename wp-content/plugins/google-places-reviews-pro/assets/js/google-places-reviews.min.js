!function(a){a(document).ready(function(){a(".gpr-widget-inner").each(function(){var b=a(this).find(".gpr-review-content"),c=a(this).data("review-limit");"undefined"!=typeof c&&c||(c=250),b.readmore({collapsedHeight:parseInt(c)})})})}(jQuery);
!function(a){"use strict";function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a){var b=++j;return String(null==a?"rmjs-":a)+b}function d(a){var b=a.clone().css({height:"auto",width:a.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(a),c=b.outerHeight(),d=parseInt(b.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),e=a.data("defaultHeight");b.remove();var f=d||a.data("collapsedHeight")||e;a.data({expandedHeight:c,maxHeight:d,collapsedHeight:f}).css({maxHeight:"none"})}function e(a){if(!i[a.selector]){var b=" ";a.embedCSS&&""!==a.blockCSS&&(b+=a.selector+" + [data-readmore-toggle], "+a.selector+"[data-readmore]{"+a.blockCSS+"}"),b+=a.selector+"[data-readmore]{transition: height "+a.speed+"ms;overflow: hidden;}",function(a,b){var c=a.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.createTextNode(b)),a.getElementsByTagName("head")[0].appendChild(c)}(document,b),i[a.selector]=!0}}function f(b,c){this.element=b,this.options=a.extend({},h,c),e(this.options),this._defaults=h,this._name=g,this.init(),window.addEventListener?(window.addEventListener("load",k),window.addEventListener("resize",k)):(window.attachEvent("load",k),window.attachEvent("resize",k))}var g="readmore",h={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},i={},j=0,k=b(function(){a("[data-readmore]").each(function(){var b=a(this),c="true"===b.attr("aria-expanded");d(b),b.css({height:b.data(c?"expandedHeight":"collapsedHeight")})})},100);f.prototype={init:function(){var b=this,e=a(this.element);e.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),d(e);var f=e.data("collapsedHeight"),g=e.data("heightMargin");if(e.outerHeight(!0)<=f+g)return!0;var h=e.attr("id")||c(),i=b.options.startOpen?b.options.lessLink:b.options.moreLink;e.attr({"data-readmore":"","aria-expanded":!1,id:h}),e.after(a(i).on("click",function(a){b.toggle(this,e[0],a)}).attr({"data-readmore-toggle":"","aria-controls":h})),b.options.startOpen||e.css({height:f})},toggle:function(b,c,d){d&&d.preventDefault(),b||(b=a('[aria-controls="'+this.element.id+'"]')[0]),c||(c=this.element);var e=this,f=a(c),g="",h="",i=!1,j=f.data("collapsedHeight");f.height()<=j?(g=f.data("expandedHeight")+"px",h="lessLink",i=!0):(g=j,h="moreLink"),e.options.beforeToggle(b,c,!i),f.css({height:g}),f.on("transitionend",function(){e.options.afterToggle(b,c,i),a(this).attr({"aria-expanded":i}).off("transitionend")}),a(b).replaceWith(a(e.options[h]).on("click",function(a){e.toggle(this,c,a)}).attr({"data-readmore-toggle":"","aria-controls":f.attr("id")}))},destroy:function(){a(this.element).each(function(){var b=a(this);b.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),b.removeData()})}},a.fn.readmore=function(b){var c=arguments,d=this.selector;return b=b||{},"object"==typeof b?this.each(function(){if(a.data(this,"plugin_"+g)){var c=a.data(this,"plugin_"+g);c.destroy.apply(c)}b.selector=d,a.data(this,"plugin_"+g,new f(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?this.each(function(){var d=a.data(this,"plugin_"+g);d instanceof f&&"function"==typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(c,1))}):void 0}}(jQuery);
